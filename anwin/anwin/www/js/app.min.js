function switchDarkTheme(){var e=app.toggle.create({el:"#toggleLabel",on:{change:function(){e.checked?$$("#app").removeClass("theme-dark"):$$("#app").addClass("theme-dark"),console.log("Toggle changed")}}})}function getLoginApiMedewerker(){$$("#btnLoginMedewerker").on("click",function(){var e=document.getElementById("emailMedewerker").value,t=document.getElementById("wachtwoordMedewerker").value;firebase.auth().signInWithEmailAndPassword(e,t).then(function(e){var t=firebase.auth().currentUser;null!=t&&sessionStorage.setItem("id",t.uid),notificationLoginMedewerker.open()}).catch(function(e){e.code,e.message;notificationFoutLogin.open()})})}function getRegistApi(){$$("#btnVerder").on("click",function(){email=document.getElementById("email").value,wachtwoord=document.getElementById("wachtwoord").value,herhaalWachtwoord=document.getElementById("herhaalWachtwoord").value,email.length<4?app.dialog.alert("Vul een e-mail aub!"):wachtwoord.length<4?app.dialog.alert("Vul een een wachtwoord aub!"):herhaalWachtwoord==wachtwoord?firebase.auth().createUserWithEmailAndPassword(email,wachtwoord).then(function(){$$("#FormLabelVerder").hide(),$$("#FormLabelNaamVoornaam").css("display","block")}).catch(function(e){var t=e.code,i=e.message;"auth/weak-password"==t?app.dialog.alert("Vul een een sterke wachtwoord aub!"):app.dialog.alert(i),app.dialog.alert(e)}):app.dialog.alert("De combinatie van de wachtwoord is niet juist!")}),$$("#btnVerderFoto").on("click",function(){if(displayNaam=document.getElementById("naamVoornaam").value,displayNaam.length<=0)app.dialog.alert("Vul een naam en voornaam in!");else{var e=firebase.auth().currentUser;e.updateProfile({displayName:document.getElementById("naamVoornaam").value,photoURL:"https://firebasestorage.googleapis.com/v0/b/anwin-fa985.appspot.com/o/avatar.png?alt=media&token=5801b53c-a777-42dc-bddf-8a51809a631c"}).then(function(){$$("#labelRegistreren").css("display","block")}).catch(function(e){app.dialog.alert(e)})}}),$$("#labelRegistreren").on("click",function(){var e=firebase.auth().currentUser;firebase.firestore().collection("medewerker").doc(e.uid).set({name:e.displayName,email:e.email,photoUrl:e.photoURL,uid:e.uid}).then(function(){console.log("Document successfully written!"),notificationLoginEnRegistrerenMedewerker.open()}).catch(function(e){app.dialog.alert(e)})})}function wijzigWachtwoord(){$$("#btnWijzigenWachtwoord").on("click",function(){if(wachtwoord=document.getElementById("wachtwoord").value,herhaalWachtwoord=document.getElementById("herhaalWachtwoord").value,wachtwoord.length<4)app.dialog.alert("Vul een een sterke wachtwoord aub!");else if(herhaalWachtwoord==wachtwoord){var e=firebase.auth().currentUser;e.updatePassword(wachtwoord).then(function(){app.dialog.alert("Uw wachtwoord is gewijzigd!"),document.getElementById("wachtwoord").value=" ",document.getElementById("herhaalWachtwoord").value=" "}).catch(function(e){app.dialog.alert(e)})}else app.dialog.alert("De combinatie van de wachtwoord is niet juist!")})}function wijzigNaamVoornaam(){$$("#wijzigNaamVoornaam").on("click",function(){var e=firebase.auth().currentUser;document.getElementById("naamVoornaam").value<0?app.dialog.alert("Vul de juiste naam en voornaam"):e.updateProfile({displayName:document.getElementById("naamVoornaam").value}).then(function(){app.dialog.alert("Uw naam is gewijzigd!"),document.getElementById("naamVoornaam").value=" "}).catch(function(e){})})}function bewaarMedewerker(){var e="",t="",i=storageRef.child(fileNaam);$$("#btnRegistrerenMedewerker").on("click",function(){var e=storageRef.child(fileNaam);e.getDownloadURL().then(function(e){var t=firebase.auth().currentUser;t.updateProfile({photoURL:e}).then(function(){firebase.firestore().collection("medewerker").doc(t.uid).set({name:t.displayName,email:t.email,photoUrl:t.photoURL,uid:t.uid}).then(function(){console.log("Document successfully written!"),notificationLoginEnRegistrerenMedewerker.open()}).catch(function(e){app.dialog.alert(e)})}).catch(function(e){app.dialog.alert(e)})}).catch(function(e){app.dialog.alert(e)})}),i.getDownloadURL().then(function(i){e+='<img style="width: 120px; height: 120px; border-radius: 50%" src="'+i+'">',t+='<div class="login-screen-title">Welkom, '+displayNaam+"</div>",$$(".fotoContainer").append(e),$$("#mede_profileVoorRegistreren").prepend(t)}).catch(function(e){})}function getMedewerkers(){firebase.firestore().collection("medewerker").get().then(function(e){let t="";e.forEach(function(e){t+='<li><label class="item-radio item-content"><input type="radio" name="medewerker" value="'+e.id+'"/><i class="icon icon-radio"></i><div class="item-media"><img src="'+e.data().photoUrl+'"width="44"/></div><div class="item-inner"><div class="item-title-row"><div class="item-title medewerkerNaam">'+e.data().name+' </div></div><div class="item-subtitle">Night Auditor</div></div></label></li>'}),$$("#optieMedewerker").html(t)})}function postHotel(){$$("#btnToevoegenHotel").on("click",function(){var e=sessionStorage.getItem("klant_id");firebase.firestore().collection("klant").doc(e).collection("hotels").add({hotelNaam:document.getElementById("hotelNaam").value,adres:document.getElementById("adres").value,nummer:document.getElementById("nummer").value,postcode:document.getElementById("postcode").value,gemeente:document.getElementById("gemeente").value}).then(function(){notificationHotelToevoegen.open()}).catch(function(e){notificationFull.open()})})}function TerugNaarIndex(){$$(".TerugNaarHome").on("click",function(){window.location.href="index.min.html"})}function sendReservatie(){$$("#btnReserveer").on("click",function(){var e=sessionStorage.getItem("klant_id");let t=document.getElementById("demo-calendar-range_start").value,i=document.getElementById("demo-calendar-range_end").value,a=document.getElementById("picker-starttijd").value,o=document.getElementById("picker-eindtijd").value;var n=$$('input[name="medewerker"]:checked').val(),r=$$('input[name="hotel"]:checked').val();firebase.firestore().collection("klant").doc(e).collection("reservaties").add({start_datum:t,eind_datum:i,start_tijd:a,eind_tijd:o,hotelNaam:r}).then(function(){notificationReservatie.open()}).catch(function(e){app.dialog.alert(e)}),firebase.firestore().collection("medewerker").doc(n).collection("reservaties").add({start_datum:t,eind_datum:i,start_tijd:a,eind_tijd:o,hotelNaam:r}).then(function(){}).catch(function(e){app.dialog.alert(e)})})}function getHotel(){firebase.firestore().collection("klant").doc(klant_id).collection("hotels").get().then(function(e){let t="";e.forEach(function(e){t+='<li value="'+e.id+'"  class="swipeout deleted-callback"> <div class="item-content swipeout-content"><div class="item-inner"> <div class="item-title-row"><div class="item-title">'+e.data().hotelNaam+'</div></div><div class="item-subtitle">'+e.data().adres+" "+e.data().nummer+", "+e.data().postcode+" "+e.data().gemeente+'</div></div></div><div class="swipeout-actions-right"><a href="#" data-confirm="Wil je die hotel verwijderen?" class="swipeout-delete swipeout-overswipe">Verwijderen</a></div></li>'}),$$("#hotelGegegevens").html(t),$$(".deleted-callback").on("swipeout:deleted",function(){var e=$$(this).attr("value");firebase.firestore().collection("klant").doc(klant_id).collection("hotels").doc(e).delete().then(function(){app.dialog.alert("Document successfully deleted!")}).catch(function(e){console.error("Error removing document: ",e)})})}).catch(function(e){console.log("Error getting documents: ",e)})}function getHotelLocatie(){firebase.firestore().collection("klant").doc(klant_id).collection("hotels").get().then(function(e){let t="";e.forEach(function(e){t+='<li><label class="item-radio item-content"><input type="radio" name="hotel" value="'+e.data().hotelNaam+'"/><i class="icon icon-radio" checked></i><div class="item-inner"><div class="item-title-row"><div class="item-title">'+e.data().hotelNaam+"</div></div></div></label></li>"}),$$("#optieHotel").append(t)}).catch(function(e){console.log("Error getting documents: ",e)})}function getCalender(){defaultCalendar(),$$("#optieMedewerker").on("change",function(e){app.calendar.destroy(calendarRange),app.calendar.destroy(calendarRange_end);var t=$$('input[name="medewerker"]:checked').val(),i=[];firebase.firestore().collection("medewerker").doc(t).collection("reservaties").get().then(function(e){e.forEach(function(e){i.push({from:e.data().start_datum,to:e.data().eind_datum})}),console.log("Current cities in CA: ",i.join(", "))}).then(function(){console.log(i),calendarRange=app.calendar.create({inputEl:"#demo-calendar-range_start",locale:"en-US",openIn:"customModal",header:!0,footer:!0,dateFormat:"yyyy-mm-dd",disabled:i}),calendarRange_end=app.calendar.create({inputEl:"#demo-calendar-range_end",locale:"en-US",openIn:"customModal",header:!0,footer:!0,dateFormat:"yyyy-mm-dd",disabled:i})}).catch(function(e){console.log("Error getting documents: ",e)})})}function defaultCalendar(){var e=new Date;app.picker.create({inputEl:"#picker-starttijd",toolbar:!0,rotateEffect:!0,value:[e.getHours(),e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()],formatValue:function(e,t){return e[0]+":"+e[1]},cols:[{values:function(){for(var e=[],t=0;t<=23;t++)e.push(t);return e}()},{divider:!0,content:":"},{values:function(){for(var e=[],t=0;t<=59;t++)e.push(t<10?"0"+t:t);return e}()}],on:{change:function(e,t,i){var a=new Date(e.value[2],1*e.value[0]+1,0).getDate();t[1]>a&&e.cols[1].setValue(a)}}}),app.picker.create({inputEl:"#picker-eindtijd",toolbar:!0,rotateEffect:!0,value:[e.getHours(),e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()],formatValue:function(e,t){return e[0]+":"+e[1]},cols:[{values:function(){for(var e=[],t=0;t<=23;t++)e.push(t);return e}()},{divider:!0,content:":"},{values:function(){for(var e=[],t=0;t<=59;t++)e.push(t<10?"0"+t:t);return e}()}],on:{change:function(e,t,i){var a=new Date(e.value[2],1*e.value[0]+1,0).getDate();t[1]>a&&e.cols[1].setValue(a)}}});calendarRange=app.calendar.create({inputEl:"#demo-calendar-range_start",locale:"en-US",openIn:"customModal",header:!0,footer:!0,dateFormat:"yyyy-mm-dd"}),calendarRange_end=app.calendar.create({inputEl:"#demo-calendar-range_end",locale:"en-US",openIn:"customModal",header:!0,footer:!0,dateFormat:"yyyy-mm-dd",disabled:[{from:new Date(2020,5,10),to:new Date(2020,5,15)}]})}function getHistory(){firebase.firestore().collection("klant").doc(sessionStorage.getItem("klant_id")).collection("reservaties").get().then(function(e){let t="";e.forEach(function(e){t+='<div class="timeline-item"><div class="timeline-item-date">'+e.data().start_datum+'</div> <div class="timeline-item-divider"></div><div class="timeline-item-content"><div class="list media-list"><ul><li value="'+e.id+'" class="swipeout deleted-callback"><div class="swipeout-content"><div class="item-content"><div class="item-inner"><div class="item-title-row"><div class="timeline-item-title">'+e.data().hotelNaam+'</div></div><div class="timeline-item-title"> </div><div class="item-subtitle">Start datum: '+e.data().start_datum+'</div><div class="item-subtitle">Start tijd: '+e.data().start_tijd+'</div><div class="item-subtitle">Eind datum: '+e.data().eind_datum+'</div> <div class="item-subtitle">Eind tijd: '+e.data().eind_tijd+'<div></div></div></div></div><div class="swipeout-actions-right"><a href="#" class="swipeout-delete" data-confirm="Wil je deze reservatie verwijderen?"class="swipeout-delete swipeout-overswipe">Verwijderen</a></div></li></ul></div></div></div>'}),$$("#reservatieHistory").html(t),$$(".deleted-callback").on("swipeout:deleted",function(){var e=$$(this).attr("value");firebase.firestore().collection("klant").doc(sessionStorage.getItem("klant_id")).collection("reservaties").doc(e).delete().then(function(){app.dialog.alert("De reservering is verwijderd!")}).catch(function(e){console.error("Error removing document: ",e)})})}).catch(function(e){console.log("Error getting documents: ",e)})}function getHistoryVoorMedewerker(){firebase.firestore().collection("medewerker").doc(sessionStorage.getItem("id")).collection("reservaties").get().then(function(e){let t="";e.forEach(function(e){t+='<div class="timeline-item"><div class="timeline-item-date">'+e.data().start_datum+'</div> <div class="timeline-item-divider"></div><div class="timeline-item-content"><div class="list media-list"><ul><li value="'+e.id+'" class="swipeout deleted-callback"><div class="swipeout-content"><div class="item-content"><div class="item-inner"><div class="item-title-row"><div class="timeline-item-title">'+e.data().hotelNaam+'</div></div><div class="timeline-item-title"> </div><div class="item-subtitle">Start datum: '+e.data().start_datum+'</div><div class="item-subtitle">Start tijd: '+e.data().start_tijd+'</div><div class="item-subtitle">Eind datum: '+e.data().eind_datum+'</div class="item-subtitle">Eind tijd: '+e.data().eind_tijd+'<div></div></div></div></div><div class="swipeout-actions-right"><a href="#" class="swipeout-delete" data-confirm="Wil je deze reservatie verwijderen?"class="swipeout-delete swipeout-overswipe">Verwijderen</a></div></li></ul></div></div></div>'}),$$("#reservatieHistoryVoorMedewerker").html(t),$$(".deleted-callback").on("swipeout:deleted",function(){var e=$$(this).attr("value");firebase.firestore().collection("medewerker").doc(sessionStorage.getItem("id")).collection("reservaties").doc(e).delete().then(function(){app.dialog.alert("De reservering is verwijderd!")}).catch(function(e){console.error("Error removing document: ",e)})})}).catch(function(e){console.log("Error getting documents: ",e)})}function sendReservatieMedewerker(){$$("#btnReserveer").on("click",function(){let e=document.getElementById("demo-calendar-range_end").value,t=document.getElementById("demo-calendar-range_end").value;firebase.firestore().collection("reservaties").add({klant_fr_id:"N.V.T.",start_datum:e,eind_datum:t,medewerker_fr_id:sessionStorage.getItem("id"),naamHotel:"N.V.T.",start_tijd:"N.V.T.",eind_tijd:"N.V.T."}).then(function(){}).catch(function(e){notificationFull.open()})})}function getCalenderVoorMedewerker(){app.calendar.create({inputEl:"#demo-calendar-range_start",locale:"en-US",openIn:"customModal",header:!0,footer:!0,dateFormat:"dd/mm/yy"}),app.calendar.create({inputEl:"#demo-calendar-range_end",locale:"en-US",openIn:"customModal",header:!0,footer:!0,dateFormat:"dd/mm/yy"})}function afsluitenSessie(){$$("#afsluiten").on("click",function(){app.dialog.confirm("Wil je echt uitloggen?",function(){firebase.auth().signOut().then(function(){app.dialog.alert("uitgelogd!"),window.location.href="index.min.html"}).catch(function(e){})})})}function loadMedewerkersGegegevens(){var e=firebase.auth().currentUser;let t="",i="";null!=e&&(e.providerData.forEach(function(e){t+='<div class="login-screen-title">'+e.displayName+"</div>",i+='<div class="fotoContainer item-media flexible-container"><a href="/wijzigMedewerkerGegevens/"><img style="width: 120px; border: 7px solid #fff; height: 120px; border-radius: 50%" src="'+e.photoURL+'"></a></div>'}),$$("#medewerkerProfiel").append(t),$$("#medewerkerProfiel").append(i))}function loadKlantGgegevens(){var e=firebase.auth().currentUser;let t="",i="";null!=e&&(e.providerData.forEach(function(e){t+='<div class="login-screen-title">'+e.displayName+"</div>",i+='<div class="item-media"><img style="width: 120px;  height: 120px; border-radius: 50%" src="'+e.photoURL+'"></div>'}),$$("#titleKlant").append(t),$$("#fotoKlant").append(i))}function onzeMedewerkerGegevens(){let e="";var t="";firebase.firestore().collection("medewerker").get().then(function(i){i.forEach(function(t){e+='<li class="medeList"  value="'+t.id+'"><a href="#" data-sheet=".my-sheet-swipe-to-close1" class="item-link item-content sheet-open"><div class="item-media"><img src="'+t.data().photoUrl+'" width="80" height="80"/></div><div class="item-inner"><div class="item-title-row"><div class="item-title">'+t.data().name+'</div></div><div class="item-subtitle"></div></div></a></li>'}),$$("#medewerkersGegevens").html(e),$$(".medeList").on("click",function(){t=$$(this).attr("value"),sessionStorage.setItem("medewerker_id",t)}),$$(".my-sheet-swipe-to-close1").on("sheet:opened",function(e){firebase.firestore().collection("medewerker").where("uid","==",t).get().then(function(e){let t="";e.forEach(function(e){t+='<div class="block-title block-title-large">'+e.data().name+'</div><div id="fotoKlant"><img style="width: 120px; height: 120px; border-radius: 50%" src="'+e.data().photoUrl+'"></div>'}),$$("#popupMedewerkerGegevens").html(t),$$("#popupMedewerkerGegevens").append('<div class="fab fab-right-bottom fab-morph" data-morph-to=".toolbar.fab-morph-target"><a href="/chat/" class="popup-open"><span style="font-size: 50px;"><i class="fab fa-facebook-messenger"></i></span></a></div>')}).catch(function(e){console.log("Error getting documents: ",e)})})})}function getUserName(){return firebase.auth().currentUser.displayName}function getUserUid(){return firebase.auth().currentUser.uid}function getUserPhoto(){return firebase.auth().currentUser.photoURL}function saveMessage(){$$("#sendMessageButton").on("click",function(){var e=getUserUid(),t=getUserName(),i=getUserPhoto(),a=sessionStorage.getItem("medewerker_id"),o=document.getElementById("textMessage").value,n=firebase.firestore().collection("klant").doc(e).collection("messages").doc(a);n.collection("ms").add({uidUser:e,text:o,naamKlant:t,photoKlant:i,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(function(){document.getElementById("textMessage").value=""}).catch(function(e){console.error("Error writing new message to Firebase Database",e)});var r=firebase.firestore().collection("medewerker").doc(a).collection("messages").doc(e);r.collection("ms").add({uidUser:e,text:o,naamKlant:t,photoKlant:i,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(function(){}).catch(function(e){console.error("Error writing new message to Firebase Database",e)})})}function loadMessages(){let e="";var t=sessionStorage.getItem("klant_id"),i=sessionStorage.getItem("medewerker_id");firebase.firestore().collection("medewerker").where("uid","==",i).get().then(function(e){let t="",i="";e.forEach(function(e){t+=e.data().name,i+='<img style="border-radius: 50%;" width="42" height="42" src="'+e.data().photoUrl+'">'}),$$("#navbarNaam").text(t),$$("#navbarFoto").html(i)}).catch(function(e){console.log("Error getting documents: ",e)});var a=firebase.firestore().collection("klant").doc(t).collection("messages").doc(i);a.collection("ms").orderBy("timestamp").onSnapshot(function(a){a.docChanges().forEach(function(a){if("removed"===a.type);else if("added"===a.type){var o=a.doc.data();o.uidUser==t?e+='<div class="message message-sent"><img style="border-radius: 50%;" width="20" height="20" src="'+o.photoKlant+'"><div class="message-content"><div class="message-bubble"><div class="message-text">'+o.text+"</div></div></div></div>":o.uidUser==i&&(e+='<div class="message message-received"><img style="border-radius: 50%;" width="20" height="20" src="'+o.photoMedewerker+'"><div class="message-content"><div class="message-bubble"><div class="message-text">'+o.text+"</div></div></div></div>")}}),$$("#berichten").html(e)})}function lijstenVanDeKlanten(){let e="";var t="";firebase.firestore().collection("klant").get().then(function(i){i.forEach(function(t){e+='<li class="klantList"  value="'+t.id+'"><a href="#" data-sheet=".my-sheet-swipe-to-close2" class="item-link item-content sheet-open"><div class="item-media"><img src="'+t.data().photoUrl+'" width="80" height="80"/></div><div class="item-inner"><div class="item-title-row"><div class="item-title">'+t.data().name+'</div></div><div class="item-subtitle"></div></div></a></li>'}),$$("#lijstKlanten").html(e),$$(".klantList").on("click",function(){t=$$(this).attr("value"),sessionStorage.setItem("kl_id",t)}),$$(".my-sheet-swipe-to-close2").on("sheet:opened",function(e){firebase.firestore().collection("klant").where("uid","==",t).get().then(function(e){let t="";e.forEach(function(e){t+='<div class="block-title block-title-large">'+e.data().name+'</div><div id="fotoKlant"><img style="width: 120px; height: 120px; border-radius: 50%" src="'+e.data().photoUrl+'"></div>'}),$$("#popupKlantGegevens").html(t),$$("#popupKlantGegevens").append('<div class="fab fab-right-bottom fab-morph" data-morph-to=".toolbar.fab-morph-target"><a href="/berichtenVoorMedewerker/" class="popup-open"><span style="font-size: 50px;"><i class="fab fa-facebook-messenger"></i></span></a></div>')}).catch(function(e){console.log("Error getting documents: ",e)})})})}function saveMessageMedewerker(){$$("#sendMessageButton").on("click",function(){var e=getUserUid(),t=sessionStorage.getItem("kl_id"),i=getUserName(),a=getUserPhoto(),o=document.getElementById("textMessage").value,n=firebase.firestore().collection("medewerker").doc(e).collection("messages").doc(t);n.collection("ms").add({uidUser:e,text:o,naamMedewerker:i,photoMedewerker:a,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(function(){document.getElementById("textMessage").value=""}).catch(function(e){console.error("Error writing new message to Firebase Database",e)});var r=firebase.firestore().collection("klant").doc(t).collection("messages").doc(e);r.collection("ms").add({uidUser:e,text:o,naamMedewerker:i,photoMedewerker:a,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(function(){}).catch(function(e){console.error("Error writing new message to Firebase Database",e)})})}function loadMessagesMedewerker(){let e="";var t=sessionStorage.getItem("kl_id"),i=getUserUid();firebase.firestore().collection("klant").where("uid","==",t).get().then(function(e){let t="",i="";e.forEach(function(e){t+=e.data().name,i+='<img style="border-radius: 50%;" width="42" height="42" src="'+e.data().photoUrl+'">'}),$$("#navbarNaam").text(t),$$("#navbarFoto").html(i)}).catch(function(e){console.log("Error getting documents: ",e)});var a=firebase.firestore().collection("medewerker").doc(i).collection("messages").doc(t);a.collection("ms").orderBy("timestamp").onSnapshot(function(a){a.docChanges().forEach(function(a){if("removed"===a.type);else if("added"===a.type){var o=a.doc.data();o.uidUser==i?e+='<div class="message message-sent"><img style="border-radius: 50%;" width="20" height="20" src="'+o.photoMedewerker+'"><div class="message-content"><div class="message-header">'+o.naamMedewerker+'</div><div class="message-bubble"><div class="message-text">'+o.text+"</div></div></div></div>":o.uidUser==t&&(e+='<div class="message message-received"><img style="border-radius: 50%;" width="20" height="20" src="'+o.photoKlant+'"><div class="message-content"><div class="message-header">'+o.naamKlant+'</div><div class="message-bubble"><div class="message-text">'+o.text+"</div></div></div></div>")}}),$$("#berichten").html(e)})}var firebaseConfig={apiKey:"AIzaSyD9S37G8dNCnZWYe7eAD4R3MaFXq9B2ggY",authDomain:"anwin-fa985.firebaseapp.com",databaseURL:"https://anwin-fa985.firebaseio.com",projectId:"anwin-fa985",storageBucket:"anwin-fa985.appspot.com",messagingSenderId:"326563094597",appId:"1:326563094597:web:b32a9fbe42cbb78e05832c",measurementId:"G-Y1X3EJGMDF"};firebase.initializeApp(firebaseConfig),firebase.analytics(),firebase.auth(),firebase.storage(),firebase.firestore().settings({experimentalForceLongPolling:!0});var ui=new firebaseui.auth.AuthUI(firebase.auth()),uiConfig={callbacks:{signInSuccessWithAuthResult:function(e,t){notificationLogin.open();var i=firebase.auth().currentUser;return null!=i&&(firebase.firestore().collection("klant").doc(i.uid).set({name:i.displayName,email:i.email,photoUrl:i.photoURL,uid:i.uid}).then(function(){console.log("Document successfully written!")}).catch(function(e){app.dialog.alert(e)}),sessionStorage.setItem("klant_id",i.uid),klant_id=sessionStorage.getItem("klant_id")),!1},uiShown:function(){}},signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID],privacyPolicyUrl:"<your-privacy-policy-url>"};ui.start("#firebaseui-auth-container",uiConfig);var $$=Dom7,app=new Framework7({root:"#app",id:"com.example.anwin",name:"Anwin",theme:"auto",data:function(){return{user:{firstName:"John",lastName:"Doe"}}},methods:{helloWorld:function(){app.dialog.alert("Hello World!")}},routes:[{path:"/index/",url:"index.min.html"},{path:"/medewerkerProfiel/",url:"medewerkerProfiel.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){}}},{path:"/klant/",url:"klant.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){loadKlantGgegevens(),afsluitenSessie()}}},{path:"/berichtenVoorMedewerker/",url:"berichtenVoorMedewerker.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){loadMessagesMedewerker(),saveMessageMedewerker()}}},{path:"/chat/",url:"chat.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){loadMessages(),saveMessage()}}},{path:"/lijstKlanten/",url:"lijstKlanten.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){lijstenVanDeKlanten(),app.sheet.create({el:".my-sheet-swipe-to-close2",swipeToClose:!0,backdrop:!0})}}},{path:"/onzemedewerker/",url:"onzemedewerker.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){onzeMedewerkerGegevens(),app.sheet.create({el:".my-sheet-swipe-to-close1",swipeToClose:!0,backdrop:!0})}}},{path:"/medewerkerpagina/",url:"medewerkerpagina.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){loadMedewerkersGegegevens(),afsluitenSessie()}}},{path:"/reservatiespagina/",url:"reservatiespagina.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){getHistory()}}},{path:"/klantpagina/",url:"klantpagina.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){postHotel(),getHotel()}}},{name:"calendar",path:"/calendar/",componentUrl:"calendar.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){getHotel(),getHotelLocatie(),getMedewerkers(),getCalender(),sendReservatie()}}},{path:"/geschiedenisvoormedewerker/",url:"geschiedenisvoormedewerker.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){getHistoryVoorMedewerker()}}},{path:"/calendervoormedewerker/",url:"calendervoormedewerker.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){getCalenderVoorMedewerker(),sendReservatieMedewerker()}}},{path:"/registreren/",url:"registreren.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){getRegistApi()}}},{path:"/wijzigMedewerkerGegevens/",url:"wijzigMedewerkerGegevens.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){var i="";wijzigWachtwoord(),wijzigNaamVoornaam(),$$("#fotoLabel").on("click",function(){document.getElementById("btnImg").click(),$$("#FormLabelVerder").hide(),$$("#FormLabelRegistreren").hide(),$$("#fotoLabel").hide(),$$("#uploadenFoto").show()}),$$("#uploadenFoto").on("click",function(){i=document.getElementById("btnImg").files[0],0!=document.getElementById("btnImg").files.length?(fotoRef=storageRef.child(i.name),fotoRef.put(i).then(function(e){}).then(function(){var e=firebase.auth().currentUser;fotoRef.getDownloadURL().then(function(t){e.updateProfile({photoURL:t}).then(function(){}).catch(function(e){app.dialog.alert(e)}),firebase.firestore().collection("medewerker").doc(e.uid).set({name:e.displayName,email:e.email,photoUrl:t,uid:e.uid}).then(function(){console.log("Document successfully written!"),view.router.navigate("/medewerkerpagina/",{transition:"f7-circle"})}).catch(function(e){app.dialog.alert(e)})}).catch(function(e){})}).catch(function(e){app.dialog.alert(e)})):app.dialog.alert("Selecteer een foto!")})}}},{path:"/herstelWachtwoord/",url:"herstelWachtwoord.min.html",options:{transition:"f7-flip"},on:{pageInit:function(e,t){$$("#btnHerstelWachtwoordVerder").on("click",function(){document.getElementById("emailVerficatie").value;wachtwoord=document.getElementById("wachtwoord").value,herhaalWachtwoord=document.getElementById("herhaalWachtwoord").value,$$("#inputLabelWachtwoord").hide(),$$("#btnHerstelWachtwoordLabel").hide(),$$("#labelHerstelInput").css("display","block"),$$("#labelHerstelBtn").css("display","block")}),$$("#btnHerstelWachtwoord").on("click",function(){view.router.navigate("/inloggenmedewerker/",{transition:"f7-circle"})})}}},{path:"/inloggenmedewerker/",url:"inloggenmedewerker.min.html",options:{transition:"f7-circle"},on:{pageInit:function(e,t){getLoginApiMedewerker(),TerugNaarIndex()}}}],input:{scrollIntoViewOnFocus:Framework7.device.cordova&&!Framework7.device.electron,scrollIntoViewCentered:Framework7.device.cordova&&!Framework7.device.electron},statusbar:{iosOverlaysWebView:!0,androidOverlaysWebView:!1},on:{init:function(){var e=this;e.device.cordova&&cordovaApp.init(e)}}}),view=app.views.create(".view-main",{on:{pageInit:function(){switchDarkTheme(),app.sheet.create({el:".my-sheet-swipe-to-close",swipeToClose:!0,backdrop:!0})}}}),storage=firebase.storage(),storageRef=storage.ref();let id,klant_id;var medewerker_id,email="",wachtwoord="",herhaalWachtwoord="",displayNaam="",fotoRef="",fileNaam="",notificationRegist=app.notification.create({icon:'<i class="fas fa-check-circle"></i>',title:"ANWIN",titleRightText:"Registreren",subtitle:"Je bent geregistreerd.",text:"Bedankt!",closeTimeout:1700,on:{close:function(){view.router.navigate("/login-screen/",{transition:"f7-circle"})}}}),notificationLogin=app.notification.create({icon:'<i class="fas fa-check-circle"></i>',title:"ANWIN",titleRightText:"Inloggen",subtitle:"Je bent ingelogd.",text:"Bedankt!",closeTimeout:1700,on:{close:function(){view.router.navigate("/klant/",{transition:"f7-circle"})}}}),notificationLoginMedewerker=app.notification.create({icon:'<i class="fas fa-check-circle"></i>',title:"ANWIN",titleRightText:"Inloggen",subtitle:"Je bent ingelogd.",text:"Bedankt!",closeTimeout:1700,on:{close:function(){view.router.navigate("/medewerkerpagina/",{transition:"f7-circle"})}}}),notificationLoginEnRegistrerenMedewerker=app.notification.create({icon:'<i class="fas fa-check-circle"></i>',title:"ANWIN",titleRightText:"Registreren",subtitle:"Je bent geregistreerd.",text:"Bedankt!",closeTimeout:1700,on:{close:function(){view.router.navigate("/medewerkerpagina/",{transition:"f7-circle"})}}}),notificationHotelToevoegen=app.notification.create({icon:'<i class="fas fa-check-circle"></i>',title:"ANWIN",titleRightText:"",subtitle:"Hotel is toegevoegd",closeTimeout:1700,on:{close:function(){getHotel()}}}),notificationReservatie=app.notification.create({icon:'<i class="fas fa-check-circle"></i>',title:"ANWIN",titleRightText:"De reservatie is voltooid!",subtitle:"Bedankt voor het gebruik van onze diensten!",closeTimeout:1700,on:{close:function(){view.router.navigate("/reservatiespagina/")}}}),notificationFull=app.notification.create({icon:'<i class="fas fa-exclamation-circle"></i>',title:"Fout!",subtitle:"Fout!",text:"Probeer later opnieuw.",closeTimeout:1700}),notificationFoutLogin=app.notification.create({icon:'<i class="fas fa-exclamation-circle"></i>',title:"Fout!",subtitle:"Login mislukt!",text:"Deze naam/paswoord combinatie bestaat niet",closeTimeout:1700});let opties={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json",Accept:"application/json"}};var calendarRange,calendarRange_end;